<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curso de Cambio Climático - AmbiTrack</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="../css/styles.css">
    <style>
        .course-container {
            max-width: 1000px;
            margin: 2rem auto;
            padding: 2rem;
            background: rgba(30, 30, 30, 0.8);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .module-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border-left: 4px solid var(--primary-color);
            transition: transform 0.3s;
        }
        
        .module-card:hover {
            transform: translateY(-5px);
            background: rgba(46, 204, 113, 0.1);
        }
        
        .progress {
            height: 10px;
            margin: 1rem 0;
        }
        
        .module-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 0.8rem;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-success fixed-top">
        <div class="container">
            <a class="navbar-brand" href="../index.html">
                <i class="fas fa-arrow-left me-2"></i>Volver
            </a>
            <span class="navbar-text text-white">
                <i class="fas fa-book me-2"></i>Curso de Cambio Climático
            </span>
        </div>
    </nav>

    <div class="container course-container mt-5 pt-5">
        <div class="text-center mb-5">
            <h1 class="display-4">Curso de Cambio Climático</h1>
            <p class="lead">Aprende sobre las causas, efectos y soluciones del cambio climático</p>
            
            <div class="progress mt-4">
                <div class="progress-bar bg-success" role="progressbar" style="width: 0%" id="course-progress"></div>
            </div>
            <small class="text-muted">Progreso del curso: <span id="progress-text">0%</span></small>
        </div>
        
        <div class="row" id="modules-container">
            <!-- Módulos se cargarán aquí dinámicamente -->
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const modules = [
                {
                    id: 1,
                    title: 'Introducción al Cambio Climático',
                    description: 'Conceptos básicos y evidencia científica del cambio climático.',
                    duration: '15 min',
                    completed: false,
                    locked: false
                },
                {
                    id: 2,
                    title: 'Causas del Cambio Climático',
                    description: 'Factores naturales y antropogénicos que contribuyen al calentamiento global.',
                    duration: '20 min',
                    completed: false,
                    locked: true
                },
                {
                    id: 3,
                    title: 'Efectos en el Planeta',
                    description: 'Impactos en los ecosistemas, clima y fenómenos meteorológicos extremos.',
                    duration: '25 min',
                    completed: false,
                    locked: true
                },
                {
                    id: 4,
                    title: 'Soluciones y Acciones',
                    description: 'Estrategias de mitigación y adaptación al cambio climático.',
                    duration: '30 min',
                    completed: false,
                    locked: true
                },
                {
                    id: 5,
                    title: 'Tu Papel en la Solución',
                    description: 'Acciones individuales y colectivas para combatir el cambio climático.',
                    duration: '20 min',
                    completed: false,
                    locked: true
                }
            ];
            
            const modulesContainer = document.getElementById('modules-container');
            
            function renderModules() {
                modulesContainer.innerHTML = '';
                let completedCount = 0;
                
                modules.forEach(module => {
                    const moduleElement = document.createElement('div');
                    moduleElement.className = 'col-md-12';
                    
                    let badge = '';
                    if (module.completed) {
                        badge = '<span class="badge bg-success"><i class="fas fa-check"></i> Completado</span>';
                        completedCount++;
                    } else if (module.locked) {
                        badge = '<span class="badge bg-secondary"><i class="fas fa-lock"></i> Bloqueado</span>';
                    } else {
                        badge = '<span class="badge bg-primary"><i class="fas fa-play"></i> Comenzar</span>';
                    }
                    
                    moduleElement.innerHTML = `
                        <div class="module-card position-relative">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <h4>${module.id}. ${module.title}</h4>
                                    <p class="mb-2 text-muted">${module.description}</p>
                                    <span class="badge bg-info"><i class="far fa-clock"></i> ${module.duration}</span>
                                </div>
                                ${badge}
                            </div>
                        </div>
                    `;
                    
                    if (!module.locked) {
                        moduleElement.querySelector('.module-card').style.cursor = 'pointer';
                        moduleElement.querySelector('.module-card').addEventListener('click', () => {
                            startModule(module.id);
                        });
                    }
                    
                    modulesContainer.appendChild(moduleElement);
                });
                
                // Actualizar progreso
                const progress = Math.round((completedCount / modules.length) * 100);
                document.getElementById('course-progress').style.width = `${progress}%`;
                document.getElementById('progress-text').textContent = `${progress}%`;
            }
            
            function startModule(moduleId) {
                // Aquí iría la lógica para cargar el contenido del módulo
                alert(`Iniciando módulo ${moduleId}: ${modules[moduleId - 1].title}`);
                // Marcar como completado después de ver el módulo
                modules[moduleId - 1].completed = true;
                // Desbloquear el siguiente módulo si existe
                if (moduleId < modules.length) {
                    modules[moduleId].locked = false;
                }
                renderModules();
            }
            
            // Inicializar
            renderModules();
        });
    </script>
</body>
</html>
